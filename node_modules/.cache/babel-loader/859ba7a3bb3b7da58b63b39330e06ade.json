{"ast":null,"code":"import _objectSpread from\"/Users/toomasherodes/frb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/toomasherodes/frb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{signInWithEmailAndPassword,onAuthStateChanged,createUserWithEmailAndPassword}from\"firebase/auth\";import{auth}from\"../firebase-config.js\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function TereTulemast(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),registreerib=_useState6[0],setRegistreerib=_useState6[1];var navigate=useNavigate(false);var _useState7=useState({remail:\"\",confirmRemail:\"\",rpassword:\"\",confirmRpassword:\"\"}),_useState8=_slicedToArray(_useState7,2),regInfo=_useState8[0],setRegInfo=_useState8[1];useEffect(function(){auth.onAuthStateChanged(function(user){if(user){navigate(\"/peamineLeht\");}});});var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handlePasswordChange=function handlePasswordChange(e){setPassword(e.target.value);};var handleSignIn=function handleSignIn(){signInWithEmailAndPassword(auth,email,password).then(function(){navigate(\"/peamineLeht\");}).catch(function(err){return alert(err.message);});};var looKasutaja=function looKasutaja(){if(regInfo.remail!==regInfo.confirmRemail||regInfo.rpassword!==regInfo.confirmRpassword){alert(\"Viga e-maili v6i salas6na sisestamisel\");return;}createUserWithEmailAndPassword(auth,regInfo.remail,regInfo.rpassword).then(function(){navigate(\"/peamineLeht\");}).catch(function(err){return alert(err.message);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Rakendus\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:registreerib?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"emailReg\",placeholder:\"e-mail\",value:regInfo.remail,onChange:function onChange(e){return setRegInfo(_objectSpread(_objectSpread({},regInfo),{},{remail:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{className:\"emailReg\",placeholder:\"korda e-mail\",value:regInfo.confirmRemail,onChange:function onChange(e){return setRegInfo(_objectSpread(_objectSpread({},regInfo),{},{confirmRemail:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{className:\"salas6naReg\",placeholder:\"valisalas6na\",value:regInfo.rpassword,onChange:function onChange(e){return setRegInfo(_objectSpread(_objectSpread({},regInfo),{},{rpassword:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{className:\"salas6naReg\",placeholder:\"korda oma Salas6na\",value:regInfo.confirmRpassword,onChange:function onChange(e){return setRegInfo(_objectSpread(_objectSpread({},regInfo),{},{confirmRpassword:e.target.value}));}}),/*#__PURE__*/_jsxs(\"button\",{className:\"registreerimine\",onClick:looKasutaja,children:[\" \",\"Registreeri\",\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setRegistreerib(false);},children:\"Tagasi \"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"email\",placeholder:\"E-mail\",onChange:handleEmailChange,value:email}),/*#__PURE__*/_jsx(\"input\",{className:\"salas6na\",placeholder:\"salas6na\",onChange:handlePasswordChange,value:password}),/*#__PURE__*/_jsx(\"button\",{className:\"sisselogimine\",onClick:handleSignIn,children:\"Logi sisse\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setRegistreerib(true);},children:\"Registreeri selle asemel kasutaja\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","signInWithEmailAndPassword","onAuthStateChanged","createUserWithEmailAndPassword","auth","useNavigate","TereTulemast","email","setEmail","password","setPassword","registreerib","setRegistreerib","navigate","remail","confirmRemail","rpassword","confirmRpassword","regInfo","setRegInfo","user","handleEmailChange","e","target","value","handlePasswordChange","handleSignIn","then","catch","err","alert","message","looKasutaja"],"sources":["/Users/toomasherodes/frb/src/components/tereTulemast.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  createUserWithEmailAndPassword,\n} from \"firebase/auth\";\nimport { auth } from \"../firebase-config.js\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function TereTulemast() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [registreerib, setRegistreerib] = useState(false);\n  const navigate = useNavigate(false);\n  const [regInfo, setRegInfo] = useState({\n    remail: \"\",\n    confirmRemail: \"\",\n    rpassword: \"\",\n    confirmRpassword: \"\",\n  });\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        navigate(\"/peamineLeht\");\n      }\n    });\n  });\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSignIn = () => {\n    signInWithEmailAndPassword(auth, email, password)\n      .then(() => {\n        navigate(\"/peamineLeht\");\n      })\n      .catch((err) => alert(err.message));\n  };\n\n  const looKasutaja = () => {\n    if (\n      regInfo.remail !== regInfo.confirmRemail ||\n      regInfo.rpassword !== regInfo.confirmRpassword\n    ) {\n      alert(\"Viga e-maili v6i salas6na sisestamisel\");\n      return;\n    }\n    createUserWithEmailAndPassword(auth, regInfo.remail, regInfo.rpassword)\n      .then(() => {\n        navigate(\"/peamineLeht\");\n      })\n      .catch((err) => alert(err.message));\n  };\n  return (\n    <div className=\"App\">\n      <h1>Rakendus</h1>\n      <div className=\"login-container\">\n        {registreerib ? (\n          <>\n            <input\n              className=\"emailReg\"\n              placeholder=\"e-mail\"\n              value={regInfo.remail}\n              onChange={(e) =>\n                setRegInfo({ ...regInfo, remail: e.target.value })\n              }\n            />\n            <input\n              className=\"emailReg\"\n              placeholder=\"korda e-mail\"\n              value={regInfo.confirmRemail}\n              onChange={(e) =>\n                setRegInfo({ ...regInfo, confirmRemail: e.target.value })\n              }\n            />\n            <input\n              className=\"salas6naReg\"\n              placeholder=\"valisalas6na\"\n              value={regInfo.rpassword}\n              onChange={(e) =>\n                setRegInfo({ ...regInfo, rpassword: e.target.value })\n              }\n            />\n            <input\n              className=\"salas6naReg\"\n              placeholder=\"korda oma Salas6na\"\n              value={regInfo.confirmRpassword}\n              onChange={(e) =>\n                setRegInfo({ ...regInfo, confirmRpassword: e.target.value })\n              }\n            />\n            <button className=\"registreerimine\" onClick={looKasutaja}>\n              {\" \"}\n              Registreeri{\" \"}\n            </button>\n            <button onClick={() => setRegistreerib(false)}>Tagasi </button>\n          </>\n        ) : (\n          <>\n            <input\n              className=\"email\"\n              placeholder=\"E-mail\"\n              onChange={handleEmailChange}\n              value={email}\n            />\n            <input\n              className=\"salas6na\"\n              placeholder=\"salas6na\"\n              onChange={handlePasswordChange}\n              value={password}\n            />\n            <button className=\"sisselogimine\" onClick={handleSignIn}>\n              Logi sisse\n            </button>\n            <button onClick={() => setRegistreerib(true)}>\n              Registreeri selle asemel kasutaja\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}